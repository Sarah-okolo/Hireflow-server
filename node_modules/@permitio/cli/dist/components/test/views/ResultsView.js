import React from 'react';
import { Box, Text } from 'ink';
import DifferencesView from './DifferencesView.js';
const ResultsView = ({ results, pdpUrl }) => {
    // Count matches and mismatches
    const matches = results.filter(r => r.matches).length;
    const mismatches = results.length - matches;
    const errors = results.filter(r => r.error).length;
    return (React.createElement(Box, { flexDirection: "column" },
        React.createElement(Box, { marginBottom: 1 },
            React.createElement(Text, null,
                "Compared ",
                results.length,
                " audit logs against PDP at ",
                pdpUrl)),
        React.createElement(Box, { marginBottom: 1 },
            React.createElement(Text, null,
                "Results: ",
                React.createElement(Text, { color: "green" },
                    matches,
                    " matches"),
                ",",
                ' ',
                React.createElement(Text, { color: mismatches > 0 ? 'red' : 'green' },
                    mismatches,
                    " differences"),
                errors > 0 && React.createElement(Text, { color: "yellow" },
                    ", ",
                    errors,
                    " errors"))),
        mismatches > 0 && (React.createElement(DifferencesView, { results: results.filter(r => !r.matches) })),
        mismatches === 0 && (React.createElement(Text, { color: "green" }, "\u2713 All decisions match! The PDP behaves identically to the audit log data."))));
};
export default ResultsView;
